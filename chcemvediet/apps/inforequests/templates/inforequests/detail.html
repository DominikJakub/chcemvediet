{# vim: set filetype=htmldjango :#}
{% extends "main/base/single_column.html" %}
{% load blocktrans from i18n %}
{% load addtoblock from sekizai_tags %}

{% comment %}
 %
 % Context:
 %  -- inforequest: chcemvediet.apps.inforequests.models.Inforequest
 %
{% endcomment %}

{% block title %}{% blocktrans %}Inforequest Detail{% endblocktrans %} | {{ block.super }}{% endblock %}

{% block content %}
  {% include "inforequests/detail-main.html" with inforequest=inforequest %}

  {% addtoblock "js" %}{# {{{ #}
    <script>
	$(function(){
		$(document).on('ajax-done', '.modal', function(event, data){

			if (data.result == 'invalid') {
				$(this).html(data.content);

			} else if (data.result == 'success' && data.print) {
				$('.modal.in').removeClass('fade').modal('hide');
				if (data.content) $('#content').html(data.content);
				if (data.scroll_to) $(data.scroll_to).scrollTo();
				$('#print-modal').html(data.print).modal('show');

			} else if (data.result == 'success') {
				$.hideBootstrapModal(function(){
					if (data.content) $('#content').html(data.content);
					if (data.scroll_to) $(data.scroll_to).scrollTo();
				});
			}
		});
	});
    </script>
  {% endaddtoblock %}{# }}} #}
{% endblock %}

